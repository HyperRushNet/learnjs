<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JS Cheatsheet</title>
<style>
    :root {
        --bg: #111;
        --text: #eee;
        --accent: #c88;
        --dark: #1a1a1a;
        --border: #333;
    }
    body {
        background: var(--bg);
        color: var(--text);
        font-family: Consolas, Monaco, 'Courier New', monospace;
        margin: 0;
        padding: 20px;
        padding-top: 80px;
        scroll-behavior: smooth;
        line-height: 1.6;
    }
    .container {
        max-width: 900px;
        margin: auto;
    }
    h1, h2 {
        margin-top: 50px;
        border-bottom: 1px solid var(--border);
        padding-bottom: 8px;
        color: #fff;
    }
    h1 {
        text-align: center;
        font-size: 2.4em;
        margin-bottom: 40px;
    }
    pre {
        background: var(--dark);
        padding: 14px;
        border-radius: 8px;
        overflow-x: auto;
        font-size: 15px;
        margin: 16px 0;
        border: 1px solid #333;
    }
    code {
        color: #ff9d9d;
    }
    .usecase {
        color: var(--accent);
        font-size: 0.95em;
        margin: 8px 0 40px;
        opacity: 0.9;
    }

    /* ==================== NAVIGATIEBAR ==================== */
    #nav-bar {
        position: fixed;
        top: 0; left: 0; right: 0;
        height: 56px;
        background: #1e1e1e;
        border-bottom: 1px solid var(--border);
        z-index: 1000;
        box-shadow: 0 4px 20px rgba(0,0,0,0.7);
        backdrop-filter: blur(10px);
    }
    #nav-inner {
        height: 100%;
        overflow-x: auto;
        overflow-y: hidden;
        padding: 0 20px;
        display: flex;
        align-items: center;
        scrollbar-width: none;
        -ms-overflow-style: none;
    }
    #nav-inner::-webkit-scrollbar { display: none; }

    /* Custom scrollbar */
    .scrollbar-track {
        position: absolute;
        bottom: 8px;
        left: 20px;
        right: 20px;
        height: 4px;
        background: rgba(255,255,255,0.1);
        border-radius: 2px;
        opacity: 0;
        transition: opacity 0.3s;
    }
    #nav-bar:hover .scrollbar-track,
    #nav-bar.touch .scrollbar-track { opacity: 1; }

    .scrollbar-thumb {
        position: absolute;
        top: 0; left: 0;
        height: 100%;
        width: 100px;
        background: var(--accent);
        border-radius: 2px;
        opacity: 0.7;
        transition: opacity 0.2s;
    }
    #nav-bar:hover .scrollbar-thumb { opacity: 1; }

    /* Links */
    #nav-bar a {
        color: #aaa;
        text-decoration: none;
        margin-right: 26px;
        padding: 8px 0;
        flex-shrink: 0;
        position: relative;
        font-size: 14.5px;
        transition: color 0.2s;
    }
    #nav-bar a:hover { color: #fff; }
    #nav-bar a::after {
        content: "";
        position: absolute;
        bottom: 0; left: 0;
        width: 0; height: 2px;
        background: var(--accent);
        transition: width 0.3s ease;
    }
    #nav-bar a:hover::after,
    #nav-bar a.active::after { width: 100%; }
    #nav-bar a.active { color: #fff; }

    /* Tooltip */
    .tooltip {
        visibility: hidden;
        background: #333;
        color: #fff;
        font-size: 13px;
        padding: 6px 10px;
        border-radius: 4px;
        position: absolute;
        bottom: 140%;
        left: 50%;
        transform: translateX(-50%);
        white-space: nowrap;
        opacity: 0;
        transition: opacity 0.3s, visibility 0.3s;
        z-index: 10;
        pointer-events: none;
    }
    .tooltip::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        border: 5px solid transparent;
        border-top-color: #333;
    }
    #nav-bar a:hover .tooltip {
        visibility: visible;
        opacity: 1;
    }

    /* Responsive */
    @media (max-width: 640px) {
        body { padding-top: 70px; }
        #nav-bar { height: 50px; }
        #nav-bar a { font-size: 13.5px; margin-right: 18px; }
    }
</style>
</head>
<body>

<div id="nav-bar">
    <div id="nav-inner"></div>
    <div class="scrollbar-track"><div class="scrollbar-thumb"></div></div>
</div>

<div class="container">
    <h1>JavaScript Cheatsheet</h1>

    <h2>Take all keys and values from JSON</h2>
    <pre><code>Object.entries(data).forEach(([key, value]) => 
    console.log(key, value)
)</code></pre>
    <p class="usecase">Inspect • Debug • Map • Dynamic rendering</p>

    <h2>Event Listeners</h2>
    <pre><code>// Common events
click, dblclick, mousedown, mouseup, mouseenter, mouseleave
keydown, keyup, input, change, focus, blur
submit, resize, scroll, load, DOMContentLoaded
pointerdown, touchstart, dragstart, drop</code></pre>
    <pre><code>element.addEventListener("click", handler)</code></pre>
    <p class="usecase">UI interactions • Forms • Animations • Games</p>

    <h2>Simple Fetch</h2>
    <pre><code>async function get(url, type = "json") {
    const res = await fetch(url);
    return await res[type]();
}

// Usage
getData("data.json").then(data => console.log(data))</code></pre>
    <p class="usecase">API calls • Load JSON • Dynamic content</p>

    <h2>For Loops</h2>
    <pre><code>for (let i = 0; i < 10; i++) {
    console.log(i);
}</code></pre>

    <h2>If / Else</h2>
    <pre><code>if (score >= 90) console.log("A");
else if (score >= 75) console.log("B");
else console.log("C");</code></pre>

    <h2>Arrays</h2>
    <pre><code>const fruits = ["apple", "banana", "cherry"];
fruits.forEach(f => console.log(f));</code></pre>

    <h2>Variables</h2>
    <pre><code>let mutable = "changes ok";
const constant = "never changes";
var oldWay = "avoid if possible";</code></pre>

    <h2>Functions</h2>
    <pre><code>function greet(name) {
    return `Hello, ${name}!`;
}
// Arrow
const greet = name => `Hello, ${name}!`;</code></pre>

    <h2>Objects</h2>
    <pre><code>const person = {
    name: "Alice",
    greet() { console.log(\`Hi, I'm \${this.name}\`); }
};
person.greet();</code></pre>

    <h2>Template Literals</h2>
    <pre><code>const name = "Bob";
const msg = \`Hello, \${name.toUpperCase()}!\`;</code></pre>

    <h2>Math & Random</h2>
    <pre><code>// Random int 0-9
Math.floor(Math.random() * 10)

// Random between min-max
const rand = (min, max) => 
    Math.floor(Math.random() * (max - min + 1)) + min;</code></pre>

    <h2>Wait / Delay</h2>
    <pre><code>const wait = ms => new Promise(r => setTimeout(r, ms));

await wait(2000);
console.log("2 seconds later");</code></pre>

    <h2>Classes</h2>
    <pre><code>class Person {
    constructor(name, age) {
        this.name = name; this.age = age;
    }
    greet() {
        console.log(\`I'm \${this.name}, \${this.age}yo\`);
    }
}
new Person("Alice", 25).greet();</code></pre>

    <h2>Nested Classes</h2>
    <pre><code>class Math {
    static add(a, b) { return a + b; }
    static Utils = class {
        static double(n) { return n * 2; }
    }
}
Math.Utils.double(5); // 10</code></pre>
</div>

<script>
// Auto generate navigation + custom scrollbar + active state
document.addEventListener("DOMContentLoaded", () => {
    const navInner = document.getElementById("nav-inner");
    const thumb = document.querySelector(".scrollbar-thumb");
    const headings = document.querySelectorAll("h2");

    headings.forEach(h2 => {
        const text = h2.textContent.trim();
        const slug = text.toLowerCase()
            .replace(/[&/\\#,+()$~%.'":*?<>{}]/g, '')
            .replace(/\s+/g, '-');

        h2.id = slug;

        const a = document.createElement("a");
        a.href = "#" + slug;
        a.innerHTML = `<span>${text}</span><span class="tooltip">${text}</span>`;
        navInner.appendChild(a);
    });

    // Update custom scrollbar
    function updateThumb() {
        const total = navInner.scrollWidth;
        const visible = navInner.clientWidth;

        if (total <= visible) {
            thumb.style.width = "0px";
            return;
        }

        const ratio = visible / total;
        const thumbWidth = Math.max(ratio * visible, 40);
        thumb.style.width = thumbWidth + "px";

        const scrollPercent = navInner.scrollLeft / (total - visible);
        const trackWidth = document.querySelector(".scrollbar-track").clientWidth;
        const maxLeft = trackWidth - thumbWidth;
        thumb.style.left = (scrollPercent * maxLeft) + "px";
    }

    // Active link highlighting
    function setActiveLink() {
        let current = "";
        headings.forEach(h2 => {
            const rect = h2.getBoundingClientRect();
            if (rect.top <= 100) current = h2.id;
        });

        document.querySelectorAll("#nav-bar a").forEach(a => {
            a.classList.toggle("active", a.getAttribute("href") === "#" + current);
        });
    }

    navInner.addEventListener("scroll", updateThumb);
    window.addEventListener("resize", updateThumb);
    window.addEventListener("scroll", setActiveLink);

    // Initial calls
    setTimeout(() => {
        updateThumb();
        setActiveLink();
    }, 100);
});
</script>
</body>
</html>
